@model List<Generwell.Web.ViewModels.TaskFieldsViewModel>
@using Generwell.Modules.GenerwellConstants;
@using Generwell.Modules.Global;

<script type="text/javascript">
    $(document).ready(function () {
        TaskDetailsPage.initialize(@GlobalFields.TaskId);
    });

</script>

<table id="taskDetailsListTableId" class="table table-striped table-bordered table-hover taskListDataTable" style="width:100%;">
    <thead>
        <tr>
            @*<th>Field Description<i class="fa fa-fw fa-sort"></i></th>
            <th>Display Value<i class="fa fa-fw fa-sort"></i></th>*@
            @if (Model.Count() > 0)
            {
                @foreach (var item in Model)
                {
                    @if (@item.fieldControlType != 2)
                    {
                        @if (@item.permissionId == 2 || @item.permissionId == 9)
                        {
                            //var FieldId = @item.fieldId;
                            @Html.HiddenFor(model => @item.fieldId, new
                             { id = "FieldId" });
                        }
                    }
                <th>Field Description<i class="fa fa-fw fa-sort"></i></th>
                <th>Display Value<i class="fa fa-fw fa-sort"></i></th>
               
            }
            }
        </tr>
    </thead>
    <tbody>        
        @*For Display Value field I took controls as per "fieldTypeId" value. just took for 2 values( text and look up(dropdown)*@ 
        @if (Model.Count() > 0)
        {
          
            int count = 1;
            @foreach (var item in Model)
            {
               
                
                @if (@item.permissionId != 0)
                {
                    if (count % 2 == 1)
                    {
                        @:<tr class="gradeU">
                            <td>@item.fieldDesc</td>

                            @if (@item.fieldTypeId == 1 || @item.fieldTypeId == 8)
                            {
                                <td>
                                   @Html.TextBoxFor(model => @item.displayValue, "{0:MM/dd/yyyy}", new { @class = "form-control date-inputField" })

                                </td>
                            }

                       @if (@item.fieldTypeId == 2)
                       {
                                <td>
                                    @Html.DropDownListFor(model => @item.displayValue, new SelectList(
                  new List<Object>{                       
                       new { value = 0 , text = @item.displayValue, @id = "displayValue2" }

                    },
                  "value",
                  "text",
                   2))
                                   
                                </td>
                                            }
                        @if (@item.fieldTypeId == 3)
                            {
                            <td>
                                @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1" })
                            </td>
                        }

                        @if (@item.fieldTypeId == 4)
                        {
                            <td>
                                @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1", @Max="100" })
                            </td>
                        }

                        @if (@item.fieldTypeId == 6)
                        {
                            <td>
                                @Html.DropDownListFor(model => @item.displayValue, new SelectList(
                  new List<Object>{
                       new { value = 0 , text = @item.displayValue, @id = "displayValue2" }

                    },
                  "value",
                  "text",
                   2))
                            </td>
                        }

                        @if (@item.fieldTypeId == 7)
                        {
                            <td>
                              @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1", @Max = "100" })

                            </td>
                        }

                        @if (@item.fieldTypeId == 9 || @item.fieldTypeId == 11 || @item.fieldTypeId == 12 || @item.fieldTypeId == 13)
                        {
                            <td>
                                @Html.DisplayFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1" })

                            </td>
                        }
                        @if (@item.fieldTypeId == 10)
                        {
                            <td>
                                @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1" })

                            </td>
                        }

                    }
                                    @if (count % 2 == 0)
                                    {

                                        @if (@item.fieldTypeId == 1 || @item.fieldTypeId == 8)
                                        {
                                            <td>
                                                @Html.TextBoxFor(model => @item.displayValue, "{0:MM/dd/yyyy}", new { @class = "form-control date-inputField" })

                                            </td>
                                        }

                        <td>@item.fieldDesc</td>

                        @if (@item.fieldTypeId == 2)
                        {
                            <td>
                                @Html.DropDownListFor(model => @item.displayValue, new SelectList(
                  new List<Object>{
                       new { value = 0 , text = @item.displayValue, @id = "displayValue2" }

                    },
                  "value",
                  "text",
                   2))

                            </td>
                        }
                                        @if (@item.fieldTypeId == 3)
                            {
                                            <td>
                                                @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1" })
                                            </td>
                                        }

                                        @if (@item.fieldTypeId == 4)
                                        {
                                            <td>
                                                @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1", @Max = "100" })

                                            </td>
                                        }

                                        @if (@item.fieldTypeId == 6)
                                        {
                                            <td>
                                                @Html.DropDownListFor(model => @item.displayValue, new SelectList(
                  new List<Object>{
                       new { value = 0 , text = @item.displayValue, @id = "displayValue2" }

                    },
                  "value",
                  "text",
                   2))
                                            </td>
                                        }

                                        @if (@item.fieldTypeId == 7)
                                        {
                                            <td>
                                                @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1", @Max = "100" })

                                            </td>
                                        }

                                        @if (@item.fieldTypeId == 9 || @item.fieldTypeId == 11 || @item.fieldTypeId == 12 || @item.fieldTypeId == 13)
                                        {
                                            <td>
                                                @Html.DisplayFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1" })

                                            </td>
                                        }
                                        @if (@item.fieldTypeId == 10)
                                        {
                                            <td>
                                                @Html.EditorFor(model => @item.displayValue, new { @name = "textbox1", @Id = "textbox1" })

                                            </td>
                                        }
                        @: </tr>
                }
                }
                count++;
            }
        }
        else
        {
            <tr class="gradeU">
                <td>@GenerwellConstants.Constants.NoData</td>
                <td>@GenerwellConstants.Constants.NoData</td>
                <td>@GenerwellConstants.Constants.NoData</td>
            </tr>
        }
 
       
    </tbody>
</table>
<div>
    <button id="SaveTaskFieldDetailsId" type="submit" name="Save" value="Save" class="btn button taskdetailsbuttons">Save</button>   
</div>





