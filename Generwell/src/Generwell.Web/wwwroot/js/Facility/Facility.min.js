var facilityPage={initialize:function(n){facilityPage.attachEvents(n)},attachEvents:function(n){facilityPage.createMyFilterCheckbox();facilityPage.createDatatable();facilityPage.filterByCheckbox();facilityPage.filterDatatableByDropdown();facilityPage.redirectEvent(n)},myFacilityFilter:function(){var n=$("#facilityListTableId").DataTable();$(".iCheck-helper").parent().attr("class").indexOf("checked")>-1?n.columns(7).search("^True$",!0,!1,!1).draw():n.columns(7).search("").draw()},filterByCheckbox:function(){var n=$("#facilityListTableId").DataTable();$(".iCheck-helper").on("click",function(){$(this).parent().attr("class").indexOf("checked")>-1?n.columns(7).search("^True$",!0,!1,!1).draw():n.columns(7).search("").draw()})},createMyFilterCheckbox:function(){$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"})},createDatatable:function(){var n=$("#facilityListTableId").DataTable({columnDefs:[{targets:[0],visible:!1,searchable:!1},{targets:[7],visible:!1,searchable:!0},]})},filterDatatableByDropdown:function(){$("#FilterList").unbind().bind("change",function(){$("#processing-modal").modal("show");var n=$("#FilterList option:selected").val();n.indexOf("Select")>-1&&(n=null);$.ajax({type:"GET",dataType:"html",url:"/Facility/FilterFacility",data:{id:n},cache:!1,success:function(n){(n!=undefined||n!="")&&($("#facilityTableDivId").html(n),$("#processing-modal").modal("hide"),facilityPage.myFacilityFilter())},error:function(){$("#processing-modal").modal("hide")}})})},redirectFacilityLineReportPage:function(n,t){var r=$("#facilityListTableId").DataTable(),i=r.row($(t).parent()).data(),u=n+"?facilityId="+Base64.encode(i[0])+"&facilityName="+Base64.encode(i[2])+"&isFollow="+Base64.encode(i[7])+"&latitude="+Base64.encode(i[5])+"&longitude="+Base64.encode(i[6]);window.location.href=u},redirectEvent:function(n){$("#facilityListTableId tbody").on("click","tr td",function(t){$("#myTask").prop("checked",!1);$("#processing-modal").modal("show");t.currentTarget.children[0]!=undefined?facilityPage.facilityFollowUnfollow(t):facilityPage.redirectFacilityLineReportPage(n,this)})},facilityFollowUnfollow:function(n){var r=parseInt(n.currentTarget.children[0].name),t=n.currentTarget.children[0].id,i;t!=undefined&&(i=$("#FilterList option:selected").val(),$.ajax({type:"GET",dataType:"html",url:"/Facility/SetFollowUnfollow",data:{isFollow:t,facilityId:r,filterId:i},cache:!1,success:function(n){(n!=undefined||n!="")&&($("#facilityTableDivId").html(n),facilityPage.myFacilityFilter(),$("#processing-modal").modal("hide"))},error:function(){$("#processing-modal").modal("hide")}}))}};