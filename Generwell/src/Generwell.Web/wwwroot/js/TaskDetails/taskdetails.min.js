var TaskDetailsPage={initialize:function(n){TaskDetailsPage.attachEvents(n)},attachEvents:function(){TaskDetailsPage.completeEvent();TaskDetailsPage.updateTaskFields();TaskDetailsPage.createMyFilterCheckbox();TaskDetailsPage.changeButtonEvent()},updateTaskFields:function(){$(".dropdownErrorMessage1").on("change",function(){var n=0;$(".clsedit").each(function(){var i=$(this).prop("type"),t;i=="select-one"&&(t=$(this).find(":selected").text(),t=="Please select one"&&($("#dropdownErrorMessage").show(),setTimeout(function(){$("#dropdownErrorMessage").hide()},5e3)));n++})});$("#taskDetailsListTableId").change(function(){var n=0;$(".clsedit").each(function(){var i=$(this).prop("type"),r,u,t;if(i=="select-one"&&(t=this.id,r=$(this).find(":selected").text(),r=="Please select one"&&($("#dropdownErrorMessage_"+t).show(),setTimeout(function(){$("#dropdownErrorMessage_"+t).hide()},5e3))),i=="text")if(this.name=="date"){var t=this.id,f=this.value;new Date(f)<new Date("Jan 01,1990")&&($("#dateErrorMessage_"+t).show(),setTimeout(function(){$("#dateErrorMessage_"+t).hide()},5e3))}else u=this.value,u==""&&(t=this.id,$("#TextErrorMessage__"+t).show(),setTimeout(function(){$("#TextErrorMessage__"+t).hide()},5e3));n++})})},completeTask:function(){var n=TaskDetailsPage.getViewData();$("#processing-modal").modal("hide");TaskDetailsPage.callUpdateTask(n)},callUpdateTask:function(n){$("#processing-modal").modal("show");$.ajax({type:"GET",url:"/taskdetails/updatetaskfields",data:{Content:JSON.stringify(n)},datatype:"json",cache:!1,success:function(){$("#newCmpMessage").show();setTimeout(function(){$("#newCmpMessage").hide()},3e3);$("#processing-modal").modal("hide");$("#completeTask").css("display","block");$("#ReSaveTaskFieldDetailsId").css("display","none");TaskDetailsPage.changeButtonEvent()},error:function(){$("#processing-modal").modal("hide")}})},completeEvent:function(){$("#completeTask").click(function(){swal({title:"Task Complete",text:"YES/NO complete Re-activated task?",type:"warning",showCancelButton:!0,confirmButtonColor:"#cf7f00",confirmButtonText:"Yes, update it!",closeOnConfirm:!1},function(){$("#processing-modal").modal("hide");TaskDetailsPage.completeTask();swal("updated!","Data updated successfully","success")})})},getViewData:function(){$("#processing-modal").modal("show");var n=[],t=[],i=[],r=0;return $(".clsedit").each(function(){var u,f,e;u=$(this).prop("type");u=="select-one"?(f=$(this).find(":selected").val(),e=$(this).find(":selected").text(),n.push(this.id),t.push(f),i.push('{ "op": "replace", "path": "/Fields/'+this.id+'", "value": "'+f+'"}')):u=="text"?(n.push(this.id),t.push(this.value),this.name=="date"?i.push('{ "op": "replace", "path": "/Fields/'+n[r]+'", "value":  '+Date.parse(t[r])/1e3+"  }"):i.push('{ "op": "replace", "path": "/Fields/'+n[r]+'", "value": "'+t[r]+'"}')):u=="checkbox"?(n.push(this.id),t.push(this.value),i.push('{ "op": "replace", "path": "/Fields/'+n[r]+'", "value": '+$(this).prop("checked")+"   }")):u=="number"&&(n.push(this.id),t.push(this.value),i.push('{ "op": "replace", "path": "/Fields/'+this.id+'", "value": "'+this.value+'"}'));r++}),i},createMyFilterCheckbox:function(){$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"})},changeButtonEvent:function(){var n=$("#reactivatedTask").val();n.toLowerCase()=="re-activated"?($("#completeTask").css("display","block"),$("#savedDetails").css("display","none")):($("#completeTask").css("display","none"),$("#savedDetails").css("display","block"));$("#taskDetailsListTableId input,select").change(function(){$("#completeTask").css("display","none");$("#savedDetails").css("display","block");$("#savedDetails").click(function(){var n=TaskDetailsPage.getViewData();TaskDetailsPage.callUpdateTask(n)})})}};